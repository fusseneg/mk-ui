!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Mk=e(t)}):"object"==typeof module&&module.exports?module.exports=t.document?e(t):function(t){if(!t.document)throw new Error("Mk[ui] requires a window with a document");return e(t)}:t.Mk=e(t)}("undefined"!=typeof window&&window||this,function(t){"use strict";function e(t,e){return this.find(t,e)}var n={}.hasOwnProperty,i=function(){};return i.fn={},i.fn.uid=function(){return"mkxxx4xxyxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t&&e||3&e|8;return n.toString(16)})},i.type=function(t,e){for(var r,o,a=e.toLowerCase().split("|"),s=a.length,u=i.fn.typemap,c=0;c<s;c++)if(o=a[c],(r=n.call(u,o)?u[o]:u.defaultt)(t,o))return!0;return!1},i.fn.typemap={index:function(t,e){return t.indexOf(e)>-1},array:function(t){return t instanceof Array},empty:function(t){return""===t||null===t||void 0===t||t===!1},null:function(t){return null===t},date:function(t){return t instanceof Date||t===Date},nodelist:function(t){return t instanceof NodeList},node:function(t){return/1|9|11/.test(t&&t.nodeType||0)},window:function(t){return t&&t===t.window},function:function(t){return"function"==typeof t&&!i.fn.typemap.classlike(t)},arraylike:function(t){if(i.type(t,"function|string|window"))return!1;var e=!!t&&"number"==typeof t.length,n=e&&"length"in t&&t.length;return i.type(t,"array|nodelist")||0===n||e&&n>0&&n-1 in t},instance:function(t){var e=Object.getPrototypeOf(t),n=e&&e.hasOwnProperty("constructor")&&e.constructor,i={}.hasOwnProperty.toString;return("function"==typeof n&&i.call(n)===i.call(Object))!=!0},descriptor:function(t){var e=i.fn.typemap.index,n="object"==typeof t&&Object.keys(t||{})||[];if(e(n,"enumerable")&&e(n,"configurable")){if(e(n,"value"))return e(n,"writable");if(e(n,"get"))return e(n,"set")}return!1},classlike:function(t){return"function"==typeof t&&Object.keys(t.prototype).length>0},object:function(t){return!(!t||"object"!=typeof t||t instanceof Array)},defaultt:function(t,e){return typeof t===e}},i.fn.each=function(t,e,n){var r,a,s=0;if(i.type(e,"arraylike"))for(r=e.length;s<r&&(a=n.call(t,e[s],s,e),a!==!1);s++)a===-1&&([].splice.call(e,s,1),s--,r--);else for(s in e){if(a=n.call(t,e[s],s,e),a===!1)break;a===-1&&delete o[s]}return t},i.fn.first=function(t,e,n){var r;return i.fn.each(t,e,function(t,e,i){if(r=n.call(this,t,e,i),void 0!==r)return!1}),r},i.fn.map=function(t,e,n){var r,o,a;if(i.type(e,"arraylike"))r=[],Array.prototype.map.call(e,function(e,i,a){o=n.call(t,e,i,a),void 0!==o&&r.push(o)});else{r={};for(a in e)o=n.call(t,e[a],a,e),void 0!==o&&(r[a]=o)}return r},i.fn.filter=function(t,e,n){if(i.type(e,"arraylike"))return Array.prototype.filter.call(e,function(e,i,r){return n.call(t,e,i,r)});var r,o={};for(r in e)n.call(t,e[r],r,e)!==!1&&(o[r]=e[r]);return o},e.cache={},e.data=function(t,n,r){var o=t._id_||i.fn.uid(),a=r,s=e.cache[o]||{};return null===n?(t._id_=null,delete e.cache[o],s):null===a?(a=s[n],delete s[n],a):(void 0===a?(a=s[n],void 0===a&&/1|9|11/.test(t.nodeType)&&(a=t.getAttribute("data-"+n)||void 0)):s[n]=a,t._id_=o,e.cache[o]=s,a)},e.wrap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],li:[1,"<ul>","</ul>"],dd:[1,"<dl>","</dl>"],defaultt:[0,"",""]},e.wrap.optgroup=e.wrap.option,e.wrap.caption=e.wrap.thead,e.wrap.tbody=e.wrap.thead,e.wrap.tfoot=e.wrap.thead,e.wrap.dt=e.wrap.dd,e.markup=function(t){var n=document;if(!t)return n.createDocumentFragment();var i,r,o=n.createElement("template");if(o.content)return o.innerHTML=t,o.content;var a=(/^\s*<([^>\s]+)/.exec(t)||[])[1]||null,s=a&&e.wrap.hasOwnProperty(a)&&e.wrap[a]||e.wrap.defaultt,u=0;for(o=n.createElement("div"),o.innerHTML=s[1]+t+s[2],r=o.firstChild,i=n.createDocumentFragment();u<s[0];)r=r.firstChild,u++;return r&&i.appendChild(r),i},e.remove=function(t){if(t&&(1===t.nodeType||11===t.nodeType)){for(var n=t.childNodes,r=n.length;r--;)e.remove(n[r]);var o=e.data(t,null);o&&o.events&&i.fn.each(this,o.events,function(n,i){e.events.off(t,i)})}t.parentNode&&t.parentNode.removeChild(t)},e.events={capture:function(t,e){if(e)switch(t){case"mouseenter":case"mouseleave":case"blur":case"focus":return!0}return!1},delegate:function(t,n,i){var r=n.target,o={allowed:!1,target:t};if(i){if(n.toElement){var a=new e(n.toElement,t),s=new e(n.fromElement,t);if(a.is(i)&&s.parent(n.toElement).length||s.is(i)&&a.parent(n.fromElement).length)return o}new e(i,t).each(function(t){if(r===t||new e(r).parent(t).length)return o.allowed=!0,o.target=t,!1})}else o.allowed=!0;return o},on:function(t,e,n,i,r){var o=e.split(".");this.add({node:t,type:o.shift(),namespace:o.join("."),handler:i,single:r||!1,delegate:"string"==typeof n?n:void 0,capture:"boolean"==typeof n?n:void 0})},off:function(t,e,n){var i=e.split(".");this.remove({node:t,type:i.shift(),namespace:i.join("."),handler:n})},emit:function(t,e,n){var i=e.split("."),r=new Event(i.shift());r.namespace=i.join("."),r.data=n||[],t.dispatchEvent(r)},find:function(t,n,r){var o=e.data(t,"events")||{},a=o[n]||[];return i.fn.first(this,a,function(t){if(t.id===r)return t})},add:function(t){var n=i.fn.uid(),r=t.node,o=t.type,a=e.data(r,"events")||{},s=t.capture||this.capture(o,t.delegate),u=function(t){var i,r=e.events.find(this,t.type,n),o=e.events.delegate(this,t,r.delegate),a=!1;return t.namespace?t.namespace===r.namespace&&o.allowed&&(a=!0):o.allowed&&(a=!0),a&&(r.single&&e.events.remove({node:this,add:!1,type:r.type,handler:r.original,namespace:r.namespace}),i=r.original.apply(o.target,[t].concat(t.data))),i};a[o]=a[o]||[],a[o].push({type:o,capture:s,namespace:t.namespace,original:t.handler,delegate:t.delegate,handler:u,single:t.single,id:n}),e.data(r,"events",a),r.addEventListener(o,u,s)},remove:function(t){var n=t.node,r=t.type,o=t.handler,a=t.namespace,s=e.data(n,"events")||{},u=s[r]||[];i.fn.each(this,u,function(t){if(!(a&&t.namespace!==a||o&&o!==t.original))return n.removeEventListener(r,t.handler,t.capture),-1})}},e.prototype={length:0,context:null,constructor:e,toFrag:function(){var t=document.createDocumentFragment();return this.each(function(e){t.appendChild(e)}),t},nv:function(t,e,n){if("object"==typeof t){var i,r=Object.keys(t),o=r.length;return this.each(function(e){for(i=0;i<o;i++)n(e,r[i],t[r[i]])})}return void 0===e?this.length?n(this[0],t,e):void 0:this.each(function(i){n(i,t,e)})},first:function(){var t,e,n=/1|9|11/,i=0;if(this.length)for(t=this.length;i<t;)if(e=this[i],i++,n.test(e.nodeType))return e},last:function(){var t,e,n=/1|9|11/;if(this.length)for(e=this.length;e--;)if(t=this[e],n.test(t.nodeType))return t},each:function(t){for(var e,n=0,i=this.length;n<i&&(e=t.call(this,this[n],n++),e!==!1););return this},index:function(t){if("number"!=typeof t&&this.length){for(var e=this[0],n=e.parentNode&&e.parentNode.childNodes||[],t=0,i=n.length;t<i;t++)if(n[t]===e)return t;return 0}return this.length>t&&this[t]||void 0},find:function(t,n){var r,o=document;return n=n||this.length&&this||void 0!==this.length&&this.context||[o],n===this?new e(t,n):(i.type(n,"string")?n=new e(n,o):n.nodeType&&(n=[n]),r=t,i.type(t,"string")&&(/^\s*<([^>\s]+)/.test(t)?r=this.markup(t):(r=[],i.fn.each(this,n,function(e){r=r.concat([].slice.call(e.querySelectorAll(t)))}))),r&&/1|9|11/.test(r.nodeType)&&(r=[r]),i.type(r,"arraylike")&&(r=[].slice.call(r)),[].splice.call(this,0,this.length||0),r&&[].push.apply(this,r),this.context=n,this)},is:function(t){var n=new e(t,this.context),i=!1;return this.each(function(t){if(n.each(function(e){if(t===e)return i=!0,!1}),i)return!1}),i},filter:function(t){var n=new e(t,this.context),i=[];return this.each(function(t){n.each(function(e){t===e&&i.push(t)})}),new e(i,this.context)},parent:function(t,n){var i,r=[];return arguments.length?(i=new e(t,n),this.each(function(t){for(;t.parentNode;)i.each(function(e){if(e===t.parentNode)return r.indexOf(e)<0&&r.push(e),!1}),t=t.parentNode})):this.each(function(t){t.parentNode&&r.push(t.parentNode)}),new e(r)},closest:function(t,e){return this.parent(t,e)},markup:function(t){var n=e.markup(t);return n.childNodes},html:function(t){if(void 0===t){var n=this.first();return n&&n.innerHTML||""}return this.each(function(n){for(var i=n.childNodes,r=i.length;r--;)e.remove(i[r]);n.appendChild(e.markup(t))})},text:function(t){if(void 0===t){var e=this.first();return e&&e.textContent||""}return this.each(function(e){e.textContent=t})},removeAttr:function(t){return this.each(function(e){e.removeAttribute(t)})},attr:function(t,e){return this.nv(t,e,function(t,e,n){return void 0===n?t.getAttribute(e):void t.setAttribute(e,n)})},prop:function(t,e){return this.nv(t,e,function(t,e,n){return void 0===n?t[e]||void 0:void(t[e]=n)})},val:function(t){return void 0===t&&this.length?this[0].value:this.each(function(e){e.value=t})},data:function(t,n){return this.nv(t,n,function(t,n,i){return void 0===i||null===i?e.data(t,n,i):void e.data(t,n,i)})},css:function(t,e){return this.nv(t,e,function(t,e,n){return void 0===n?getComputedStyle(t).getPropertyValue(n):void(t.style[e]="number"==typeof n&&n+"px"||n)})},hasClass:function(t){var e=!1;return this.each(function(n){if(e=n.classList?n.classList.contains(t):n.className&&n.className.trim().split(/\s+/g).indexOf(t)>-1)return!1}),e},addClass:function(t){var e=t.split(" ");return i.fn.each(this,e,function(t){this.each(function(e){return e.classList?void e.classList.add(t):void(i.$(e).hasClass(t)||(e.className=(e.className||"").trim()+" "+t.trim()))})})},removeClass:function(t){var e=t.split(" ");return i.fn.each(this,e,function(t){this.each(function(e){return e.classList?void e.classList.remove(t):(wrdBndryRegexp=new RegExp("\\b"+t.trim()+"\\b"),wrdBndryRegexp2=new RegExp("\\b "+t+"\\b"),void(e.className=e.className.replace(wrdBndryRegexp2,"").replace(wrdBndryRegexp,"").trim()))})})},appendTo:function(t,n){var i=new e(t,n).last();return i&&i.appendChild(this.toFrag()),this},prependTo:function(t,n){var i=new e(t,n).last(),r=this.toFrag();return i&&(i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),this},append:function(t,n){var i=this.last();return i&&i.appendChild(new e(t,n).toFrag()),this},prepend:function(t,n){var i,r=this.last();return r&&(i=new e(t,n).toFrag(),r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),this},remove:function(t){var n=this;return t&&(n=new e(t,this)),n.each(function(t){e.remove(t)}),this},focus:function(){var t=this.last();return t&&t.focus(),this},blur:function(){var t=this.last();return t&&t.blur(),this},on:function(t,n,i,r){return i||(i=n,n=null),this.each(function(o){e.events.on(o,t,n,i,r)})},one:function(t,e,n){return this.on(t,e,n,!0)},off:function(t,n){return this.each(function(i){e.events.off(i,t,n)})},emit:function(t,n){return this.each(function(i){e.events.emit(i,t,n)})}},i.$=function(t,n){return new e(t,n)},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),i.extend=function(t,e,n){var r;if(i.type(n,"undefined"))for(r in e)i.extend(t,e,r);else r=Object.getOwnPropertyDescriptor(e,n),!r||void 0===r.get&&void 0===r.set?i.property(t,n,r.writable?r.value:r):Object.defineProperty(t,n,r);return this},i.property=function(t,e,n){var r,o=n;return i.type(n,"function")&&(r=i.fn.wrapFunction(n,e),o={enumerable:!0,configurable:!0,get:function(){return r},set:function(t){return i.type(t,"function")?void(r=i.fn.wrapFunction(t,e)):void(r=t)}}),i.type(o,"descriptor")||(o={value:n,writable:!0,configurable:!0,enumerable:!0}),Object.defineProperty(t,e,o),this},i.fn.wrapFunction=function(t,e){if(t._id_)return t;var n=function(){this._pushSuper(e);var n=t.apply(this,arguments);return this._popSuper(e),n};return n._id_=i.fn.uid(),n.toString=function(){return t.toString()},n},i.fn.pushSuper=function(t){this._chain_=this._chain_||[],this._chain_.push(t)},i.fn.popSuper=function(t){this._chain_.splice(this._chain_.lastIndexOf(t),1)},i.fn.template={xWhitespace:/[\r|\t|\n]+/g,xStatements:/{{([^}]+)}}(.*)({{\/\1}})/g,xInjections:/{{([^{]+)}}/g,markup:{highlight:'<span class="highlight">$1</span>',error:'<span class="error">{{template}} not found</span>'},parse:function(t,e,n,i){t=t||"",i=i||{},i.$key=e,n=n||{};var r=this;return r.get(t,n).replace(r.xWhitespace,"").replace(r.xStatements,function(t,o,a){return r.statements(t,e,o,a,n,i)}).replace(r.xInjections,function(t,o){return r.inject(t,e,o,n,i)})},get:function(t,e){var i=t;return e&&n.call(e,t)&&(i=e[t]),i instanceof Array&&(i=i.join("")),i},statements:function(t,e,i,r,o,a){var s=i.split(":"),u=s[0],c=s[1];return n.call(this.map,u)?this.map[u](r,e,o,"if"==u?a:a[c]||a,c):""},inject:function(t,e,r,o,a){var s=r.split(":"),u=s[0],c=s[1];return c&&n.call(this.map,u)?this.map[u](c,e,o,a,c):n.call(a,u)&&!i.type(a[u],"undefined|null")?a[u]:""},map:{loop:function(t,e,n,r,o){var a,s,u,c=i.fn.template,f=[],l=0;if(/^\d+$/.test(o)){for(a=parseInt(o,10);l<a;l++)r.$index=l,f.push(c.parse(t,e,n,r));delete r.$index}else if(i.type(r,"arraylike"))for(a=r.length;l<a;l++)s=r[l],i.type(s,"object")||(s={key:"",value:s}),s.$index=l,f.push(c.parse(t,e,n,s)),delete s.$index;else{u=0;for(a in r)f.push(c.parse(t,e,n,{key:a,value:r[l],$index:u++}))}return f.join("")},if:function(t,e,r,o,a){if(n.call(o,a)){var s=o[a];if(!i.type(s,"empty")||s instanceof Array&&s.length>0)return i.fn.template.parse(t,e,r,o)}return""},highlight:function(t,e,n,r,o){var a,s=i.fn.template,u=r[o],c=r.highlight||"";return c&&(a=s.get("highlight",s.markup),u=u.replace(new RegExp("("+c.replace(/\\/g,"\\\\")+")","gi"),a)),u},scope:function(t,e,n,r){return i.fn.template.parse(t,e,n,r)},template:function(t,e,n,r){return i.fn.template.parse(t,e,n,r)}}},i.fn.eventEmitter={add:function(t){var e=t.bucket,i=this.event(t.type);t.namespace=i.namespace,t.type=i.type,n.call(e,i.type)||(e[i.type]=[]),e[i.type].push({namespace:i.namespace,type:i.type,handler:t.handler,context:t.context})},event:function(t){return{type:/^(\w+)\.?/.exec(t)[1]||"",namespace:(/^\w+(\.?.*)$/.exec(t)||[])[1]||void 0}},args:function(t){return i.fn.map(this,t,function(t){return t})},on:function(t){return this.add(t)},one:function(t){return t.single=!0,this.add(t)},off:function(t,e,r,o){var a=t.bucket,s=t.handler,u=this.event(t.type);if(n.call(a,u.type))for(var c,f=a[u.type],l=i.type(s,"undefined"),h=u.namespace,p=f.length,d=0;d<p;d++)c=f[d],c.namespace!==h||!l&&s!==c.handler||(f.splice(d,1),p--,d--)},emit:function(e,i){var r=this.args(i),o=r.shift(),a=this.event(o);if(n.call(e,a.type))for(var s,u=a.namespace,c=e[a.type],f=c.length,l=0;l<f;l++)s=c[l],u&&s.namespace!==u||(s.handler.apply(s.context||t,r),s.single&&(c.splice(l,1),f--,l--))}},i.transitions={_enabled:!1,_key:null,_keys:{transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},get enabled(){return this._enabled},get disabled(){return this._enabled!==!0},get key(){if(this.enabled){if(this._key)return this._key;var t,e=this._keys,n=document.createElement("xanimate");for(t in e)if(!i.type(n.style[t],"undefined"))return this._key=e[t]}},enable:function(){return this._enabled=!0},disable:function(){return this._enabled=!1}},i.fn.keycodes={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,comma:188},i.define=function(t,e){for(var r=i,o=t.split("."),a=o.length-1,s=0;s<a;s++)n.call(r,o[s])||(r[o[s]]={}),r=r[o[s]];return r[o[a]]=e},i.get=function(t){for(var e=t.split("."),r=e.length,o=i,a=null,s=0;s<r;s++)n.call(o,e[s])?(a=o[e[s]],o=a):a=null;return a},i.create=function(t,e,n){t=t||"",n=n||e||{},e="function"==typeof e&&e.prototype instanceof i&&e||i;var r=function(){return this.init.apply(this,arguments),this};return r.prototype=Object.create(e.prototype),i.extend(r.prototype,n),r.prototype.constructor=r,r.prototype._super_=e,r.prototype._chain_=null,this.define(t,r)},i.prototype={name:"",constructor:i,templates:{},formats:{},config:null,events:null,root:null,deviceExp:/(android|nexus|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i,get _pushSuper(){return i.fn.pushSuper},get _popSuper(){return i.fn.popSuper},get super(){for(var t=this,e=t._chain_||[],i=e[e.length-1],r=e.reduce(function(t,e){return e===i&&t++,t},0);r--;)t=t._super_.prototype;return t&&n.call(t,i)?t[i]:null},get keycode(){return i.fn.keycodes},get transitions(){return i.transitions.enabled},get version(){return"v1.0.0"},get element(){return this.root[0]},get device(){return this.deviceExp.test(navigator.userAgent)},get devicekey(){var t=navigator.userAgent,e=(this.deviceExp.exec(t)||[])[1]||"";return e.toLowerCase()},$:function(t,e){return i.$(t,e)},uid:function(){return i.fn.uid()},template:function(t,e){return i.fn.template.parse(t,this.name,this.config.templates,e)},format:function(t,e){return i.fn.template.parse(t,this.name,this.config.formats,e)},html:function(t,e){return this.$(this.template(t,e))},each:function(t,e){return i.fn.each(this,t,e)},first:function(t,e){return i.fn.first(this,t,e)},map:function(t,e){return i.fn.map(this,t,e)},filter:function(t,e){return i.fn.filter(this,t,e)},node:function(t,e){return this.$(this.selector(t),e||this.root||null)},selector:function(t){return"."+this.name+(t&&"-"+t||"")},transition:function(t,e){var n=this.$(t),r=i.transitions.key,o=this;return r?(n.addClass("transition"),n.one(r,function(t){n.removeClass("transition"),e.call(o,t,n)}),this):(n.removeClass("transition"),this.each(n,function(t){this.delay(function(){e.call(this,null,this.$(t))},1)}))},clearTransitions:function(t){var e=i.transitions.key;return e&&this.$(t).off(e).removeClass("transition"),this},transitioning:function(t){return this.$(t).hasClass("transition")},delay:function(t,e){var n,i=this;return n=setTimeout(function(){t.call(i),clearTimeout(n),n=null},e||1)},on:function(t,e){return i.fn.eventEmitter.on({bucket:this.events,type:t,handler:e,context:this}),this},one:function(t,e){return i.fn.eventEmitter.one({bucket:this.events,type:t,handler:e,context:this}),this},off:function(t,e){return i.fn.eventEmitter.off({bucket:this.events,type:t,handler:e}),this},emit:function(t){return i.fn.eventEmitter.emit(this.events,arguments),this},init:function(t,e){this.define(t,e),this.build(),this.bind(),this.mount()},define:function(t,e){return this.root=this.$(t),this.events={},this.config={templates:{},formats:{},events:{}},this.each(this.formats,function(t,e){this.config.formats[e]=t}),this.each(this.templates,function(t,e){this.config.templates[e]=t}),this.configure(e),this},configure:function(t){t=t||{};var e=this.config;return e.events,this.each(t,function(t,r){"events"===r?this.each(t,function(t,e){this.on(e,t)}):i.type(t,"object|arraylike")&&n.call(e,r)?this.each(t,function(t,n){e[r][n]=t}):e[r]=t}),this},param:function(t,e,i,r,o){var a,s;if(n.call(i,t))return this;if(a=this.$(o||this.root).data(t),(void 0===a&&"undefined"!==e||null===a)&&(a=r),s=typeof a,s!==e)switch(e){case"boolean":a="true"===a||!1;break;case"number":a=parseFloat(a,10);break;case"string":a+="";case"undefined":a=r;break;case"object":a=null===a?r:a}return i[t]=a,this},bind:function(){},build:function(){},mount:function(){},unmount:function(){}},i});